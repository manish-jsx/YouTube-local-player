<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Playlist Example</title>
  <style>
    /* Reset default margin and padding for all elements */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Set a default font for the entire page */
    body {
        font-family: Arial, sans-serif;
        background-color: #f9f9f9;
        text-align: center;
    }

    /* Center the main content */
    main {
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #fff;
        padding: 10px;
        margin-top: 20px;
    }

    /* Style the input element */
    #fileInput {
        margin-bottom: 20px;
    }

    /* Style the playlist */
    ul {
        list-style-type: none;
        padding: 0;
        margin: 0;

        max-height: calc(100vh - 137px);/* Limit the height of the playlist */
        overflow-y: auto; /* Add vertical scroll if necessary */
    }

    /* Style list items */
    li {
        display: flex;
        align-items: center;
        padding: 10px;
        border-bottom: 1px solid #ddd;
        cursor: pointer;
    }

    /* Highlight the currently playing list item */
    li.playing {
        background-color: #ff0000; /* YouTube red */
        color: #fff;
    }

    /* Style the video */
    video {
        max-width: 100%; /* Adjust the width as needed */
        height: auto;
        object-fit: contain;
        background-color: #000; /* Black background for video */
        margin-top: 20px;
    }
  </style>
</head>
<body>

<main>
  <input type="file" accept=".mp4" id="fileInput" multiple />
  <ul id="playlist"></ul>
  <video id="videoPlayer" controls></video>
</main>

<script type="module">
  const fileInput = document.getElementById('fileInput');
  const playlist = document.getElementById('playlist');
  const videoPlayer = document.getElementById('videoPlayer');

  fileInput.addEventListener('change', () => {
    const files = fileInput.files;

    // Clear the existing list
    playlist.innerHTML = '';

    Array.from(files).forEach((file, index) => {
      const li = document.createElement('li');
      li.textContent = file.name;
      li.addEventListener('click', () => {
        const url = URL.createObjectURL(file);
        videoPlayer.src = url;
        videoPlayer.load();
        videoPlayer.play();
        highlightCurrentItem(li);
      });
      playlist.appendChild(li);
    });
  });

  function highlightCurrentItem(clickedItem) {
    // Remove 'playing' class from all items
    Array.from(playlist.children).forEach(item => item.classList.remove('playing'));

    // Add 'playing' class to the clicked item
    clickedItem.classList.add('playing');
  }
</script>

</body>
</html>
