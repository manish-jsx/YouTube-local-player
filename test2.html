<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File Selection Example</title>
</head>
<body>

<input type="file" accept=".mp4" id="fileInput" multiple />
<ul id="playlist"></ul>
<video id="videoPlayer" controls></video>

<script type="module">
  const fileInput = document.getElementById('fileInput');
  const playlist = document.getElementById('playlist');
  const videoPlayer = document.getElementById('videoPlayer');

  fileInput.addEventListener('change', () => {
    const files = fileInput.files;

    // Clear the existing list
    playlist.innerHTML = '';

    Array.from(files).forEach((file, index) => {
      const li = document.createElement('li');
      li.textContent = file.name;
      li.addEventListener('click', () => {
        const url = URL.createObjectURL(file);
        videoPlayer.src = url;
        videoPlayer.load();
        videoPlayer.play();
      });
      playlist.appendChild(li);
    });
  });
</script>

</body>
</html>
